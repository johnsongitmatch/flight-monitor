<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœºç¥¨ä»·æ ¼ç›‘æ§ - Flight Price Monitor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 500px;
            width: 100%;
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 8px;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 14px;
        }
        
        .form-container {
            padding: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }
        
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .submit-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }
        
        .submit-btn:active {
            transform: translateY(0);
        }
        
        .features {
            background: #f8f9fa;
            padding: 20px 30px;
            border-top: 1px solid #eee;
        }
        
        .features h3 {
            font-size: 14px;
            color: #666;
            margin-bottom: 12px;
        }
        
        .features ul {
            list-style: none;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }
        
        .features li {
            font-size: 12px;
            color: #888;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .features li::before {
            content: "âœ“";
            color: #667eea;
            font-weight: bold;
        }
        
        .footer {
            text-align: center;
            padding: 15px;
            font-size: 12px;
            color: #999;
        }
        
        .airport-list {
            font-size: 12px;
            color: #666;
            margin-top: 8px;
        }
        
        .info-text {
            font-size: 12px;
            color: #888;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âœˆï¸ æœºç¥¨ä»·æ ¼ç›‘æ§</h1>
            <p>å®æ—¶ç›‘æ§æœªæ¥ç¥¨ä»·ï¼Œæ¯æ—¥é‚®ä»¶æé†’</p>
        </div>
        
        <form id="monitorForm" class="form-container">
            <div class="form-group">
                <label for="from">å‡ºå‘åœ°</label>
                <select id="from" name="from" required>
                    <option value="">é€‰æ‹©å‡ºå‘åŸå¸‚</option>
                    <option value="AKL">ğŸ‡³ğŸ‡¿ å¥¥å…‹å…° (AKL)</option>
                    <option value="SYD">ğŸ‡¦ğŸ‡º æ‚‰å°¼ (SYD)</option>
                    <option value="MEL">ğŸ‡¦ğŸ‡º å¢¨å°”æœ¬ (MEL)</option>
                    <option value="BNE">ğŸ‡¦ğŸ‡º å¸ƒé‡Œæ–¯ç­ (BNE)</option>
                    <option value="PER">ğŸ‡¦ğŸ‡º ç€æ–¯ (PER)</option>
                    <option value="LAX">ğŸ‡ºğŸ‡¸ æ´›æ‰çŸ¶ (LAX)</option>
                    <option value="SFO">ğŸ‡ºğŸ‡¸ æ—§é‡‘å±± (SFO)</option>
                    <option value="LHR">ğŸ‡¬ğŸ‡§ ä¼¦æ•¦ (LHR)</option>
                    <option value="SIN">ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ (SIN)</option>
                    <option value="HKG">ğŸ‡­ğŸ‡° é¦™æ¸¯ (HKG)</option>
                    <option value="PEK">ğŸ‡¨ğŸ‡³ åŒ—äº¬ (PEK)</option>
                    <option value="PVG">ğŸ‡¨ğŸ‡³ ä¸Šæµ·æµ¦ä¸œ (PVG)</option>
                    <option value="SHA">ğŸ‡¨ğŸ‡³ ä¸Šæµ·è™¹æ¡¥ (SHA)</option>
                    <option value="CAN">ğŸ‡¨ğŸ‡³ å¹¿å· (CAN)</option>
                    <option value="TSN">ğŸ‡¨ğŸ‡³ å¤©æ´¥ (TSN)</option>
                </select>
                <div class="airport-list">æ”¯æŒå…¨çƒä¸»è¦åŸå¸‚æœºåœº</div>
            </div>
            
            <div class="form-group">
                <label for="to">ç›®çš„åœ°</label>
                <select id="to" name="to" required>
                    <option value="">é€‰æ‹©ç›®çš„åœ°åŸå¸‚</option>
                    <option value="PEK">ğŸ‡¨ğŸ‡³ åŒ—äº¬ (PEK)</option>
                    <option value="PVG">ğŸ‡¨ğŸ‡³ ä¸Šæµ·æµ¦ä¸œ (PVG)</option>
                    <option value="SHA">ğŸ‡¨ğŸ‡³ ä¸Šæµ·è™¹æ¡¥ (SHA)</option>
                    <option value="CAN">ğŸ‡¨ğŸ‡³ å¹¿å· (CAN)</option>
                    <option value="TSN">ğŸ‡¨ğŸ‡³ å¤©æ´¥ (TSN)</option>
                    <option value="SZX">ğŸ‡¨ğŸ‡³ æ·±åœ³ (SZX)</option>
                    <option value="CTU">ğŸ‡¨ğŸ‡³ æˆéƒ½ (CTU)</option>
                    <option value="XMN">ğŸ‡¨ğŸ‡³ å¦é—¨ (XMN)</option>
                    <option value="HKG">ğŸ‡­ğŸ‡° é¦™æ¸¯ (HKG)</option>
                    <option value="SIN">ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ (SIN)</option>
                    <option value="AKL">ğŸ‡³ğŸ‡¿ å¥¥å…‹å…° (AKL)</option>
                    <option value="SYD">ğŸ‡¦ğŸ‡º æ‚‰å°¼ (SYD)</option>
                </select>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="daysMin">æœ€å°‘å¤©æ•°</label>
                    <input type="number" id="daysMin" name="daysMin" min="1" max="30" value="28" required>
                    <div class="info-text">å›å›½æœ€å°‘å¤©æ•°</div>
                </div>
                <div class="form-group">
                    <label for="daysMax">æœ€å¤šå¤©æ•°</label>
                    <input type="number" id="daysMax" name="daysMax" min="2" max="40" value="38" required>
                    <div class="info-text">å›å›½æœ€å¤šå¤©æ•°</div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="email">é‚®ç®±åœ°å€</label>
                <input type="email" id="email" name="email" placeholder="your@email.com" required>
                <div class="info-text">æ¯æ—¥ä»·æ ¼æ—¥æŠ¥å°†å‘é€åˆ°æ­¤é‚®ç®±</div>
            </div>
            
            <div class="form-group">
                <label for="notifyTime">é€šçŸ¥æ—¶é—´</label>
                <select id="notifyTime" name="notifyTime">
                    <option value="10">ä¸Šåˆ 10:00 (æœåŠ¡å™¨æ—¶é—´)</option>
                    <option value="4">ä¸Šåˆ 04:00 (æœåŠ¡å™¨æ—¶é—´)</option>
                    <option value="8">ä¸Šåˆ 08:00 (æœåŠ¡å™¨æ—¶é—´)</option>
                    <option value="14">ä¸‹åˆ 14:00 (æœåŠ¡å™¨æ—¶é—´)</option>
                    <option value="20">æ™šä¸Š 20:00 (æœåŠ¡å™¨æ—¶é—´)</option>
                </select>
                <div class="info-text">æœåŠ¡å™¨æ—¶é—´ (UTC+8 åŒ—äº¬æ—¶é—´)</div>
            </div>
            
            <button type="submit" class="submit-btn">ğŸš€ å¼€å§‹ç›‘æ§</button>
        </form>
        
        <div class="features">
            <h3>âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3>
            <ul>
                <li>å®æ—¶ä»·æ ¼ç›‘æ§</li>
                <li>æ¯æ—¥é‚®ä»¶æé†’</li>
                <li>å¤šèˆªçº¿æ”¯æŒ</li>
                <li>ä»·æ ¼å˜åŒ–æé†’</li>
                <li>çµæ´»å¤©æ•°è®¾ç½®</li>
                <li>å†å²ä»·æ ¼è®°å½•</li>
            </ul>
        </div>
        
        <div class="footer">
            âœˆï¸ Flight Price Monitor Â© 2026
        </div>
    </div>
    
    <script>
        document.getElementById('monitorForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            
            // Validation
            const daysMin = parseInt(data.daysMin);
            const daysMax = parseInt(data.daysMax);
            
            if (daysMax - daysMin > 10) {
                alert('å¤©æ•°é—´éš”ä¸èƒ½è¶…è¿‡10å¤©ï¼');
                return;
            }
            
            if (data.from === data.to) {
                alert('å‡ºå‘åœ°å’Œç›®çš„åœ°ä¸èƒ½ç›¸åŒï¼');
                return;
            }
            
            try {
                const response = await fetch('/api/monitor', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                });
                
                const result = await response.json();
                
                if (result.success) {
                    alert('âœ… ç›‘æ§å·²è®¾ç½®ï¼\n\n' +
                        'å‡ºå‘åœ°: ' + data.from + '\n' +
                        'ç›®çš„åœ°: ' + data.to + '\n' +
                        'è¡Œç¨‹å¤©æ•°: ' + data.daysMin + '-' + data.daysMax + 'å¤©\n' +
                        'é€šçŸ¥æ—¶é—´: æ¯å¤© ' + data.notifyTime + ':00\n' +
                        'é‚®ç®±: ' + data.email + '\n\n' +
                        'æ‚¨å°†æ”¶åˆ°æ¯æ—¥ä»·æ ¼æ—¥æŠ¥ï¼');
                    this.reset();
                } else {
                    alert('âŒ è®¾ç½®å¤±è´¥: ' + result.message);
                }
            } catch (error) {
                alert('âŒ ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•ï¼');
            }
        });
    </script>
</body>
</html>
